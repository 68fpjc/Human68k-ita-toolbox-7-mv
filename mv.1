


MV(1)          Human68k ITA TOOLBOX User's Manual           MV(1)



名称
     mv - ファイルやディレクトリを移動（パス名を変更）する

形式
     mv [ -Ifiuvx ] [ -m mode ] [ -- ] old new
     mv [ -Iefiuvx ] [ -m mode ] [ -- ] file ... targetdir

解説
     mv はファイルやディレクトリを移動（パス名を変更）します．

     第1の形式では old を new に移動します．第2の形式では file ...
     のそれぞれを元の名前のままディレクトリ targetdir の中に移動
     します．file ... は左から右に順番に処理され，-e オプションが
     指定されていなければ，もし途中でエラーがあっても処理は最後ま
     で続行されます．この 2つの形式は最後の引数がディレクトリ（ま
     たはディレクトリへのシンボリック・リンク）であるかどうかで区
     別されます．ただし例外として，引数が 2つであり，どちらも同一
     のエントリを指している場合には第1の形式として処理されます．
     なお，最後の引数が‘A:’のようなドライブ指定のみである場合は，
     そのドライブのカレント・ディレクトリ‘.’が指定されたものと
     し，第2の形式として処理されます．

     移動するファイルが沖版 lndrv によるシンボリック・リンクであ
     る場合には，そのリンク・ファイル自体が移動します．

     移動先に既に別のファイル（非ディレクトリ）が存在していると，
     通常，そのファイルは予め消去されます．もしそれがボリューム・
     ラベル，シンボリック・リンク，書き込み禁止，隠し，システム，
     のいずれかの属性を持っており，標準入力がキャラクタ・デバイス
     であって，-f オプションが指定されていないならば，mv は消去す
     る前に確認メッセージを表示して 1行入力待ちとなります．ここで
     ‘y’で始まる行を入力すると通常どおり処理され，それ以外の入
     力では移動をとりやめて次のファイルやディレクトリの処理に進み
     ます．

     移動先に既に別のディレクトリが存在している場合にはエラーとな
     ります．

     mv には次のオプションがあります．

     -I        どのような場合にも必ず問い合わせを行います．このオ
               プションは -i オプションを覆いますが，移動先に既に
               ファイルがある場合には -i オプションと同じ確認メッ
               セージで問い合わせます．

     -e        何らかのエラーが起こったとき，処理を続行せずに即終
               了します．

     -f        どのような場合にも問い合わせを行わず，移動先にファ
               イルがあれば無条件に消去します．

     -i        移動先に既にファイルがある場合に必ず問い合わせを行
               います．

     -u        ファイル（非ディレクトリ）の移動先に既にファイルが
               存在し，それが移動しようとするファイルよりも新しい
               場合にはファイルを移動しません．その場合は問い合わ
               せも行われません．

     -v        移動する前に旧パス名と新パス名を標準出力に出力しま
               す．

     -x        異なるドライブへの移動は許さずにエラーとします．

     -m mode   移動したファイルやディレクトリの属性を mode に従っ
               て変更します．

                    この機能は ITA TOOLBOX の chmod(1) に準じます．
               mode の書式は ITA TOOLBOX の chmod(1) と同じです．

               -m オプションを複数指定した場合には，最後の指定が
               有効となります．

     -i オプションまたは -I オプションと -f オプションの両方を指
     定した場合には，最後に指定した一方のみが有効となります．

関連事項
     cp(1), ln(1), chmod(1)

診断
     何らかのエラーがあったときにはエラー・メッセージが標準エラー
     出力に出力されます．

     終了ステータスとしては，引数の記述に間違いがあった場合には 1，
     各引数の処理中に何らかのエラーが 1度でもあった場合には 2，メ
     モリ不足や OS のバージョンの違いなど，システムの原因により正
     常に実行ができなかった場合には 3，すべてが正常に終了したなら
     ば 0 が返ります．^C などによって中断したときの終了ステータス
     は OS の仕様によります．

注意
     ファイルを異なるドライブに移動する際，mv はまずファイルを移
     動先にコピーした後，元のファイルを削除します．ファイルのコピー
     に失敗したり，ファイルのコピー中に ^C によって停止した場合に
     は，移動先にコピー途中のファイルが残されます．元のファイルも
     削除されずにそのまま残ります．

制限
     当然のことながら，ディレクトリをそれ自身のサブディレクトリ下
     に移動することはできません．

     ディレクトリやボリューム・ラベルを異なるドライブに移動するこ
     とはできません．

     各ドライブのカレント・ディレクトリや，JOIN/SUBST されている
     ディレクトリ（SUBST.X や mount.x 等で結合されているディレク
     トリ）を移動することはできません．

バージョン
     1.9

制作・著作
     Copyright(C)1992-95 by 板垣 史彦 (Itagaki Fumihiko)



1.9                 Last change: 18 Jun 1995     Itagaki Fumihiko



