


MV(1)          Human68k ITA TOOLBOX User's Manual           MV(1)



名称
     mv - ファイルやディレクトリを移動（パス名を変更）する

形式
     mv [ -fiuvx ] [ - ] old new
     mv [ -fiuvx ] [ - ] file ... targetdir

解説
     mv はファイルやディレクトリを移動（パス名を変更）します．

     第1の形式では old を new に移動します．第2の形式では file ...
     のそれぞれを元のファイル名のままディレクトリ targetdir の中
     に移動します．file ... は左から右に順番に処理され，もし途中
     でエラーがあっても処理は最後まで続行されます．この 2つの形式
     は最後の引数がディレクトリ（またはディレクトリへのシンボリッ
     ク・リンク）であるかどうかで区別されます．なお，最後の引数が
     ‘A:’のようなドライブ指定のみである場合は，そのドライブのカ
     レント・ディレクトリが指定されたものとし，第2の形式として処
     理されます．

     移動するファイルが沖版 lndrv によるシンボリック・リンクであ
     る場合には，そのリンク・ファイル自体が移動します．

     移動しようとするファイルとは別のファイル（非ディレクトリ）が
     移動先に存在する場合，通常，そのファイルは予め消去されます．
     もし移動先に存在するファイルが，ボリューム・ラベル，シンボリッ
     ク・リンク，書き込み禁止，隠し，システム，のいずれかの属性を
     持っており，標準入力がキャラクタ・デバイスであって，-f オプ
     ションが指定されていないならば，mv は消去する前に確認メッセー
     ジを表示して 1行入力待ちとなります．ここで‘y’で始まる行を
     入力すると通常どおり処理され，それ以外の入力ではファイルの移
     動をとりやめて次のファイルの処理に進みます．

     なお，ファイルの移動先にディレクトリが存在している場合にはエ
     ラーとなります．

     mv には次のオプションがあります．

     -f   どのような場合にも問い合わせを行わず，移動先にファイル
          があれば無条件に消去します．

     -i   移動先に既にファイルがある場合は必ず問い合わせを行いま
          す．問い合わせに対して‘y’で始まる行を入力すると通常ど
          おり処理され，それ以外の入力ではファイルの移動をとりや
          めて次のファイルの処理に進みます．

     -u   ファイル（非ディレクトリ）の移動先に既にファイルが存在
          し，それが移動しようとするファイルよりも新しい場合には
          ファイルを移動しません．

     -v   ファイルやディレクトリを移動する前に，その旧パス名と新
          パス名を標準出力に出力します．

     -x   異なるドライブへの移動は許さずにエラーとします．

     -i オプションと -f オプションの両方を指定した場合には，最後
     に指定した一方のみが有効となります．

     オプションは -u -v のようにそれぞれ単独に記述することもでき
     ますし，-uv のように連結して指定することもできます．

     最初のファイル引数が‘-’で始まる綴りであると，それはオプショ
     ン引数と見なされてしまいます．その場合にはファイル引数の前に
     引数 - を置いてオプション引数とファイル引数とを分離してくだ
     さい．

関連事項
     cp(1), ln(1)

診断
     何らかのエラーがあったときにはエラー・メッセージが標準エラー
     出力に出力されます．

     終了ステータスとしては，引数の記述に間違いがあった場合には 1，
     処理中に何らかのエラーが 1つでもあった場合には 2，メモリ不足
     により実行ができなかった場合には 3，すべてが正常に終了したな
     らば 0 が返ります．^C などによって中断したときの修了ステータ
     スは OS の仕様によります．

注意
     当然のことながら，ディレクトリをそれ自身のサブディレクトリ下
     に移動することはできません．

     ファイルを異なるドライブに移動する際，-x オプションが指定さ
     れていなければ，mv はまずファイルを移動先にコピーした後，元
     のファイルを削除します．ファイルのコピーに失敗したり，ファイ
     ルのコピー中に ^C によって停止した場合には，移動先にコピー途
     中のファイルが残されます．元のファイルも削除されずにそのまま
     残ります．

不具合
     サブディレクトリを別の親ディレクトリ下に移動したとき，そのサ
     ブディレクトリ内のエントリ‘..’は依然として前の親ディレクト
     リを指しています．Human68k バージョン 2.03（およびそれ以前の
     版）は‘..’の情報を使用していないので何ら問題はありません．
     ただし‘..’が指すセクタを直接物理的に参照するアプリケーショ
     ンや MS-DOS は誤動作するおそれがあります．また，将来の
     Human68k で問題にならないとも限りません．

     ディレクトリを別のドライブに移動することはできません．

バージョン
     1.3

制作・著作
     Copyright(C)1992 by 板垣 史彦 (Itagaki Fumihiko)



1.3                 Last change: 06 Nov 1992     Itagaki Fumihiko



